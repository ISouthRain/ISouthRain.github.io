---
layout:     post
title:      "Telegram 收发 微信 消息"
subtitle:   "Telegram bot 利用 EhForwarderBot 收发微信网页端信息"
date:       2022-03-20
author:     "ISouthRain"
catalog: true
header-img: img/post-bg-hacker.jpg
tags:
  - TelegramBot
  - 微信
---

# Telegram收发微信消息(可以不需要购买服务器，单纯手机也可以)

# 📍📍 在开始本教程之前，请你确认你的微信号是否支持网页端登录，如果不支持请离开

* [微信网页版入口](https://wx.qq.com/)
* 也可以试试 先登录 [微信文件传输助手网页版](https://filehelper.weixin.qq.com/) 再去登录网页版

# 概述

微信浪费电是大家都知道的，但奈何亲朋好友都在用没法换，只能自己另有他寻了，所以有了本教程。使用TG的好处懂得都懂



### 需要使用科学上网才能进行登录，Android用户直接挂VPN就可以，购买服务器的可以使用外国服务器，或者国内的服务器给服务器上代理就可以了

---

---

***本教程声明*** Android手机不需要购买服务器  
此教程没有以下功能

- 没有朋友圈
- 没有红包
- 不能发语音（可以收听）
- 不能发位置
- 类似Web微信
- 部分文件、图片、表情等多媒体文件会被网页版微信截断，即收不到任何数据， 尤以表情为甚。因此造成的偶发现象，会提醒用户使用移动客户端查看。

### 目前只有Ubuntu系统能把功能都实现，所以本教程使用Ubuntu系统

---

### 需要一点点Linux知识，不会也没有关系，耐心看跟着做就好了

---

## Android用户可以使用Termux安装一个Ubuntu系统就可以了,在Ubuntu进行配置就好了，很完美了！

### 关于 Termux 可以直接去下载，完全免费，很省电，耗电量可以忽略不计

---

---

### Termux安装Ubuntu

更新下软件包：

```
pkg update
```

打开软件，输入以下代码按回车：

```
pkg install wget openssl-tool proot -y && hash -r && wget https://raw.githubusercontent.com/EXALAB/AnLinux-Resources/master/Scripts/Installer/Ubuntu/ubuntu.sh && bash ubuntu.sh
```

---

输入以下代码进入Ubuntu系统：

```
./start-ubuntu.sh
```

---

## 回到本教程，开始搭建TG收发微信消息

1. 先更新系统软件：

```
apt update && apt upgrade -y
```

1. 下载必要依赖：

```
apt install ffmpeg python3-pip python3-dev python3-setuptools libtiff5-dev libjpeg8-dev zlib1g-dev libfreetype6-dev liblcms2-dev libwebp-dev libmagic-dev -y
```

1. 安装EH转发机器人和主从通道:
- 安装EFB：

```
pip3 install ehforwarderbot
```

- 安装TG机器人

```
pip3 install efb-telegram-master
```

- 微信端：

```
pip3 install efb-wechat-slave
```

### 现在做完了服务器工作，再去申请一个机器人

1. 打开TG搜索 @botfather
2. 发送 /newbot 创建自已的机器人
3. 给自已的机器人取个称呼（随便取）
4. 给自已的机器人取个用户名，必须是以 bot 结尾（例如Wechatbot）注意可能被人取了就另外再打个bot结尾的名称，必须是英文
5. 创建后你会得到一个API（也可以称 token），复制下来
6. 配置机器人：
- 输入 /setprivacy 发送，选择你的机器人，点Disable
- 输入 /setjoingroups 发送，选择你的机器人，点Enable
- 输入 /setcommands 发送，选择你的机器人，输入以下内容(全部一起发，不是一条条发)还有其他功能自己可以去摸索:

```
link - 将会话绑定到 Telegram 群组
chat - 生成会话头
```

- 返回telegram主界面，点放大镜，搜索@userinfobot，进入点开始会得到你的telegram id

---

1. 服务器上操作或者Termux操作（Android用户一定要在Ubuntu上操作）
- 下载编辑软件vim：

```
apt install vim
```

- 编辑文件：

```
vim ~/.ehforwarderbot/profiles/default/config.yaml
```

 进入后点一下键盘 i

- 把以下代码复制进去：

```
master_channel: blueset.telegram
slave_channels:
- blueset.wechat
```

- 按下键盘的 ESC 再输入英文状态下的 :  输入 wq 后回车，就这样保存文件并退出了
- 继续输入：

```
vim ~/.ehforwarderbot/profiles/default/blueset.telegram/config.yaml
```

- 按上面的方法复制一下代码进去：

```
token: "机器人的API"
admins: [用户ID]
```

把上面的 机器人API 和 用户ID 换成你刚才在TG用那两个机器人得到的（符号不要改）

---

### 把 VPN 挂在后台才可以登录

### 运行登录你的微信

```basic
ehforwarderbot
```

### 一定要用扫码登录，不能用图片导入登录
