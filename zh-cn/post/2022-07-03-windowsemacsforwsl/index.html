<!doctype html><html lang=zh-cn dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>WSL Emacs | ISouthRain Blog</title>
<meta name=keywords content="Emacs"><meta name=description content="前言
由于 Windows 的某些原因使用 Emacs 总会那么的不方便或者不好用,
有的人是在 MSYS2 下使用, 但由于 MYSYS2 软件包不多, 还是差了点
所以本文借助 Windows WSL 进行使用 Emacs 么, 像在 Linux 下使用, 目前体验基本与Linux下体验一致, 不过 EAF 不支持
效果

     


安装 WSL, 本文是使用 WSL2 Ubuntu22.04

如果你想把 Ubuntu22.04 安装到自己指定盘符, 可以观看此文章
如何将WSL安装到其它驱动器或者文件夹中 | myfreax

启用 WSL 功能

Win + s 打开搜索, 输入 启用或关闭 Windows 功能, 并打开


将红线两个功能打勾✔, 启用后重启电脑


以 管理员权限 打开 Powershell, 设置默认为 wsl2
wsl --set-default-version 2

安装 Ubuntu22.04, wsl.exe &ndash;install -d Ubuntu22.04

如果安装不成功, 请参考文章 如何将WSL安装到其它驱动器或者文件夹中 | myfreax


运行 wsl, 直接在 Powershell 输入 wsl 运行

WSL 文件所在目录 \\wsl$
安装 GUI 支持
下载并安装 MobaXterm
MobaXterm Xserver with SSH, telnet, RDP, VNC and X11 - Download"><meta name=author content="ISouthRain"><link rel=canonical href=https://isouthrain.github.io/zh-cn/post/2022-07-03-windowsemacsforwsl/><link crossorigin=anonymous href=/assets/css/stylesheet.b48eb2edb122ccaadf7f09c0e4ad6aa280279f0cadf4b8d748cebe9c6aa92517.css integrity="sha256-tI6y7bEizKrffwnA5K1qooAnnwyt9LjXSM6+nGqpJRc=" rel="preload stylesheet" as=style><link rel=icon href=https://isouthrain.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://isouthrain.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://isouthrain.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://isouthrain.github.io/apple-touch-icon.png><link rel=mask-icon href=https://isouthrain.github.io/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh-cn href=https://isouthrain.github.io/zh-cn/post/2022-07-03-windowsemacsforwsl/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link href=https://fonts.cdnfonts.com/css/jetbrains-mono-2 rel=stylesheet><meta property="og:title" content="WSL Emacs"><meta property="og:description" content="前言
由于 Windows 的某些原因使用 Emacs 总会那么的不方便或者不好用,
有的人是在 MSYS2 下使用, 但由于 MYSYS2 软件包不多, 还是差了点
所以本文借助 Windows WSL 进行使用 Emacs 么, 像在 Linux 下使用, 目前体验基本与Linux下体验一致, 不过 EAF 不支持
效果

     


安装 WSL, 本文是使用 WSL2 Ubuntu22.04

如果你想把 Ubuntu22.04 安装到自己指定盘符, 可以观看此文章
如何将WSL安装到其它驱动器或者文件夹中 | myfreax

启用 WSL 功能

Win + s 打开搜索, 输入 启用或关闭 Windows 功能, 并打开


将红线两个功能打勾✔, 启用后重启电脑


以 管理员权限 打开 Powershell, 设置默认为 wsl2
wsl --set-default-version 2

安装 Ubuntu22.04, wsl.exe &ndash;install -d Ubuntu22.04

如果安装不成功, 请参考文章 如何将WSL安装到其它驱动器或者文件夹中 | myfreax


运行 wsl, 直接在 Powershell 输入 wsl 运行

WSL 文件所在目录 \\wsl$
安装 GUI 支持
下载并安装 MobaXterm
MobaXterm Xserver with SSH, telnet, RDP, VNC and X11 - Download"><meta property="og:type" content="article"><meta property="og:url" content="https://isouthrain.github.io/zh-cn/post/2022-07-03-windowsemacsforwsl/"><meta property="og:image" content="https://isouthrain.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-07-03T00:00:00+00:00"><meta property="article:modified_time" content="2024-08-02T13:26:44+08:00"><meta property="og:site_name" content="ISouthRain Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://isouthrain.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="WSL Emacs"><meta name=twitter:description content="前言
由于 Windows 的某些原因使用 Emacs 总会那么的不方便或者不好用,
有的人是在 MSYS2 下使用, 但由于 MYSYS2 软件包不多, 还是差了点
所以本文借助 Windows WSL 进行使用 Emacs 么, 像在 Linux 下使用, 目前体验基本与Linux下体验一致, 不过 EAF 不支持
效果

     


安装 WSL, 本文是使用 WSL2 Ubuntu22.04

如果你想把 Ubuntu22.04 安装到自己指定盘符, 可以观看此文章
如何将WSL安装到其它驱动器或者文件夹中 | myfreax

启用 WSL 功能

Win + s 打开搜索, 输入 启用或关闭 Windows 功能, 并打开


将红线两个功能打勾✔, 启用后重启电脑


以 管理员权限 打开 Powershell, 设置默认为 wsl2
wsl --set-default-version 2

安装 Ubuntu22.04, wsl.exe &ndash;install -d Ubuntu22.04

如果安装不成功, 请参考文章 如何将WSL安装到其它驱动器或者文件夹中 | myfreax


运行 wsl, 直接在 Powershell 输入 wsl 运行

WSL 文件所在目录 \\wsl$
安装 GUI 支持
下载并安装 MobaXterm
MobaXterm Xserver with SSH, telnet, RDP, VNC and X11 - Download"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://isouthrain.github.io/zh-cn/post/"},{"@type":"ListItem","position":2,"name":"WSL Emacs","item":"https://isouthrain.github.io/zh-cn/post/2022-07-03-windowsemacsforwsl/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"WSL Emacs","name":"WSL Emacs","description":"前言 由于 Windows 的某些原因使用 Emacs 总会那么的不方便或者不好用,\n有的人是在 MSYS2 下使用, 但由于 MYSYS2 软件包不多, 还是差了点\n所以本文借助 Windows WSL 进行使用 Emacs 么, 像在 Linux 下使用, 目前体验基本与Linux下体验一致, 不过 EAF 不支持\n效果 安装 WSL, 本文是使用 WSL2 Ubuntu22.04 如果你想把 Ubuntu22.04 安装到自己指定盘符, 可以观看此文章 如何将WSL安装到其它驱动器或者文件夹中 | myfreax 启用 WSL 功能 Win + s 打开搜索, 输入 启用或关闭 Windows 功能, 并打开 将红线两个功能打勾✔, 启用后重启电脑 以 管理员权限 打开 Powershell, 设置默认为 wsl2 wsl --set-default-version 2 安装 Ubuntu22.04, wsl.exe \u0026ndash;install -d Ubuntu22.04 如果安装不成功, 请参考文章 如何将WSL安装到其它驱动器或者文件夹中 | myfreax 运行 wsl, 直接在 Powershell 输入 wsl 运行 WSL 文件所在目录 \\\\wsl$ 安装 GUI 支持 下载并安装 MobaXterm MobaXterm Xserver with SSH, telnet, RDP, VNC and X11 - Download\n","keywords":["Emacs"],"articleBody":"前言 由于 Windows 的某些原因使用 Emacs 总会那么的不方便或者不好用,\n有的人是在 MSYS2 下使用, 但由于 MYSYS2 软件包不多, 还是差了点\n所以本文借助 Windows WSL 进行使用 Emacs 么, 像在 Linux 下使用, 目前体验基本与Linux下体验一致, 不过 EAF 不支持\n效果 安装 WSL, 本文是使用 WSL2 Ubuntu22.04 如果你想把 Ubuntu22.04 安装到自己指定盘符, 可以观看此文章 如何将WSL安装到其它驱动器或者文件夹中 | myfreax 启用 WSL 功能 Win + s 打开搜索, 输入 启用或关闭 Windows 功能, 并打开 将红线两个功能打勾✔, 启用后重启电脑 以 管理员权限 打开 Powershell, 设置默认为 wsl2 wsl --set-default-version 2 安装 Ubuntu22.04, wsl.exe –install -d Ubuntu22.04 如果安装不成功, 请参考文章 如何将WSL安装到其它驱动器或者文件夹中 | myfreax 运行 wsl, 直接在 Powershell 输入 wsl 运行 WSL 文件所在目录 \\\\wsl$ 安装 GUI 支持 下载并安装 MobaXterm MobaXterm Xserver with SSH, telnet, RDP, VNC and X11 - Download\n配置 GUI 支持 Ubuntu 下 编写 ~/.bashrc 或者 ~/.zshrc 末尾处添加\n# ~/.bashrc 或者 ~/.zshrc 文件 # 获取 Windows WSL IP host_ip=$(cat /etc/resolv.conf |grep \"nameserver\" |cut -f 2 -d \" \") # 将 GUI 显示让 mobaxterm 显示代替 export DISPLAY=\"$host_ip:0\" # 如果你要使用 windows 代理 # export ALL_PROXY=\"http://$host_ip:7890\" 打开 MobaXterm, 挂在后台, 有颜色为启动 刷新 shell, source ~/.zshrc 或者 source ~/.bashrc\nUbuntu 启动 emacs 试试, 弹出的窗口一直点 是 即可\nGUI 配置 MobaXterm 模糊解决, 修改 DIP Ubuntu Emacs 字体补充 当你打开 emacs 时候会乱码之类的, 是因为缺少字体 将 C:\\Windows\\Fons 目录下的字体全部复制到 \\\\wsl$\\Ubuntu22.04\\root\\.local\\share\\fonts 美化 Emacs emasc 启动屏幕尺寸太小, 修改数字\n(set-face-attribute ‘default nil :height 150)\n建议 emasc 安装以下包\ncnfonts 用来调整 emacs 字体大小 all-the-icons 为 emacs 提供 图标支持 emojfyi 为 emacs 提供 表情符号支持 ","wordCount":"206","inLanguage":"zh-cn","image":"https://isouthrain.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2022-07-03T00:00:00Z","dateModified":"2024-08-02T13:26:44+08:00","author":{"@type":"Person","name":"ISouthRain"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://isouthrain.github.io/zh-cn/post/2022-07-03-windowsemacsforwsl/"},"publisher":{"@type":"Organization","name":"ISouthRain Blog","logo":{"@type":"ImageObject","url":"https://isouthrain.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://isouthrain.github.io/zh-cn/ accesskey=h title="Home (Alt + H)"><img src=https://isouthrain.github.io/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://isouthrain.github.io/en/ title=English aria-label=English>English</a></li></ul></div></div><ul id=menu><li><a href=https://isouthrain.github.io/zh-cn/life/ title=MyLife><span>MyLife</span></a></li><li><a href=https://isouthrain.github.io/zh-cn/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://isouthrain.github.io/zh-cn/about/ title=About><span>About</span></a></li><li><a href=https://isouthrain.github.io/zh-cn/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://github.com/ISouthRain title=Github><span>Github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://isouthrain.github.io/zh-cn/>Home</a>&nbsp;»&nbsp;<a href=https://isouthrain.github.io/zh-cn/post/>Posts</a></div><h1 class="post-title entry-hint-parent">WSL Emacs</h1><div class=post-meta><span title='2022-07-03 00:00:00 +0000 UTC'>2022 年 07 月 03 日</span>&nbsp;·&nbsp;206 words&nbsp;·&nbsp;ISouthRain&nbsp;|&nbsp;<a href=https://github.com/ISouthRain/ISouthRain.github.io/content/post/2022-07-03-WindowsEmacsForWSL.zh-cn.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%89%8d%e8%a8%80 aria-label=前言>前言</a></li><li><a href=#%e6%95%88%e6%9e%9c aria-label=效果>效果</a></li><li><a href=#%e5%ae%89%e8%a3%85-wsl-%e6%9c%ac%e6%96%87%e6%98%af%e4%bd%bf%e7%94%a8-wsl2-ubuntu22-dot-04 aria-label="安装 WSL, 本文是使用 WSL2 Ubuntu22.04">安装 WSL, 本文是使用 WSL2 Ubuntu22.04</a><ul><li><a href=#%e5%90%af%e7%94%a8-wsl-%e5%8a%9f%e8%83%bd aria-label="启用 WSL 功能">启用 WSL 功能</a></li></ul></li><li><a href=#wsl-%e6%96%87%e4%bb%b6%e6%89%80%e5%9c%a8%e7%9b%ae%e5%bd%95-wsl aria-label="WSL 文件所在目录 \\wsl$">WSL 文件所在目录 \\wsl$</a></li><li><a href=#%e5%ae%89%e8%a3%85-gui-%e6%94%af%e6%8c%81 aria-label="安装 GUI 支持">安装 GUI 支持</a><ul><li><a href=#%e4%b8%8b%e8%bd%bd%e5%b9%b6%e5%ae%89%e8%a3%85-mobaxterm aria-label="下载并安装 MobaXterm">下载并安装 MobaXterm</a></li><li><a href=#%e9%85%8d%e7%bd%ae-gui-%e6%94%af%e6%8c%81 aria-label="配置 GUI 支持">配置 GUI 支持</a></li></ul></li><li><a href=#gui-%e9%85%8d%e7%bd%ae aria-label="GUI 配置">GUI 配置</a><ul><li><a href=#mobaxterm-%e6%a8%a1%e7%b3%8a%e8%a7%a3%e5%86%b3-%e4%bf%ae%e6%94%b9-dip aria-label="MobaXterm 模糊解决, 修改 DIP"><strong>MobaXterm</strong> 模糊解决, 修改 DIP</a></li><li><a href=#ubuntu-emacs-%e5%ad%97%e4%bd%93%e8%a1%a5%e5%85%85 aria-label="Ubuntu Emacs 字体补充">Ubuntu Emacs 字体补充</a></li></ul></li><li><a href=#%e7%be%8e%e5%8c%96-emacs aria-label="美化 Emacs">美化 Emacs</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h2 id=前言>前言<a hidden class=anchor aria-hidden=true href=#前言>#</a></h2><p>由于 Windows 的某些原因使用 Emacs 总会那么的不方便或者不好用,</p><p>有的人是在 MSYS2 下使用, 但由于 MYSYS2 软件包不多, 还是差了点</p><p><strong>所以本文借助 Windows WSL 进行使用 Emacs 么, 像在 Linux 下使用, 目前体验基本与Linux下体验一致, 不过 EAF 不支持</strong></p><h2 id=效果>效果<a hidden class=anchor aria-hidden=true href=#效果>#</a></h2><figure><img loading=lazy src=/attach/2022-07-03-WindowsEmacsForWSL.zh-cn/%e6%95%88%e6%9e%9c/2022-07-03_21-20-45_1.png></figure><h2 id=安装-wsl-本文是使用-wsl2-ubuntu22-dot-04>安装 WSL, 本文是使用 WSL2 Ubuntu22.04<a hidden class=anchor aria-hidden=true href=#安装-wsl-本文是使用-wsl2-ubuntu22-dot-04>#</a></h2><ul><li>如果你想把 <strong>Ubuntu22.04</strong> 安装到自己指定盘符, 可以观看此文章
<a href=https://www.myfreax.com/installing-wsl-manually-on-non-system-drive/>如何将WSL安装到其它驱动器或者文件夹中 | myfreax</a></li></ul><h3 id=启用-wsl-功能>启用 WSL 功能<a hidden class=anchor aria-hidden=true href=#启用-wsl-功能>#</a></h3><ol><li>Win + s 打开搜索, 输入 <strong>启用或关闭 Windows 功能</strong>, 并打开
<img loading=lazy src=/attach/2022-07-03-WindowsEmacsForWSL.zh-cn/%e5%ae%89%e8%a3%85_WSL,_%e6%9c%ac%e6%96%87%e6%98%af%e4%bd%bf%e7%94%a8_WSL2_Ubuntu22.04/2022-07-03_21-30-48_1.png alt></li><li>将红线两个功能打勾✔, 启用后重启电脑
<img loading=lazy src=/attach/2022-07-03-WindowsEmacsForWSL.zh-cn/%e5%ae%89%e8%a3%85_WSL,_%e6%9c%ac%e6%96%87%e6%98%af%e4%bd%bf%e7%94%a8_WSL2_Ubuntu22.04/2022-07-03_21-32-43_1.png alt></li><li>以 <strong>管理员权限</strong> 打开 Powershell, 设置默认为 wsl2<div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>wsl</span> <span class=p>-</span><span class=n>-set-default-version</span> <span class=mf>2</span>
</span></span></code></pre></div></li><li>安装 Ubuntu22.04, <strong>wsl.exe &ndash;install -d Ubuntu22.04</strong><ul><li>如果安装不成功, 请参考文章 <a href=https://www.myfreax.com/installing-wsl-manually-on-non-system-drive/>如何将WSL安装到其它驱动器或者文件夹中 | myfreax</a></li></ul></li><li>运行 wsl, 直接在 Powershell 输入 wsl 运行</li></ol><h2 id=wsl-文件所在目录-wsl>WSL 文件所在目录 \\wsl$<a hidden class=anchor aria-hidden=true href=#wsl-文件所在目录-wsl>#</a></h2><h2 id=安装-gui-支持>安装 GUI 支持<a hidden class=anchor aria-hidden=true href=#安装-gui-支持>#</a></h2><h3 id=下载并安装-mobaxterm>下载并安装 MobaXterm<a hidden class=anchor aria-hidden=true href=#下载并安装-mobaxterm>#</a></h3><p><a href=https://mobaxterm.mobatek.net/download.html>MobaXterm Xserver with SSH, telnet, RDP, VNC and X11 - Download</a></p><h3 id=配置-gui-支持>配置 GUI 支持<a hidden class=anchor aria-hidden=true href=#配置-gui-支持>#</a></h3><ul><li><p>Ubuntu 下 编写 ~/.bashrc 或者 ~/.zshrc <strong>末尾处添加</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># ~/.bashrc 或者 ~/.zshrc 文件</span>
</span></span><span class=line><span class=cl><span class=c1># 获取 Windows WSL IP</span>
</span></span><span class=line><span class=cl><span class=nv>host_ip</span><span class=o>=</span><span class=k>$(</span>cat /etc/resolv.conf <span class=p>|</span>grep <span class=s2>&#34;nameserver&#34;</span> <span class=p>|</span>cut -f <span class=m>2</span> -d <span class=s2>&#34; &#34;</span><span class=k>)</span>
</span></span><span class=line><span class=cl><span class=c1># 将 GUI 显示让 mobaxterm 显示代替</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>DISPLAY</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$host_ip</span><span class=s2>:0&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># 如果你要使用 windows 代理</span>
</span></span><span class=line><span class=cl><span class=c1># export ALL_PROXY=&#34;http://$host_ip:7890&#34;</span>
</span></span></code></pre></div></li><li><p>打开 <strong>MobaXterm</strong>, 挂在后台, <strong>有颜色为启动</strong>
<img loading=lazy src=/attach/2022-07-03-WindowsEmacsForWSL.zh-cn/%e5%ae%89%e8%a3%85_GUI_%e6%94%af%e6%8c%81/2022-07-03_22-22-17_1.png alt></p></li><li><p>刷新 shell, <strong>source ~/.zshrc</strong> 或者 <strong>source ~/.bashrc</strong></p></li><li><p>Ubuntu 启动 emacs 试试, 弹出的窗口一直点 <strong>是</strong> 即可</p></li></ul><h2 id=gui-配置>GUI 配置<a hidden class=anchor aria-hidden=true href=#gui-配置>#</a></h2><h3 id=mobaxterm-模糊解决-修改-dip><strong>MobaXterm</strong> 模糊解决, 修改 DIP<a hidden class=anchor aria-hidden=true href=#mobaxterm-模糊解决-修改-dip>#</a></h3><figure><img loading=lazy src=/attach/2022-07-03-WindowsEmacsForWSL.zh-cn/GUI_%e9%85%8d%e7%bd%ae/2022-07-03_21-59-27_1.png></figure><h3 id=ubuntu-emacs-字体补充>Ubuntu Emacs 字体补充<a hidden class=anchor aria-hidden=true href=#ubuntu-emacs-字体补充>#</a></h3><ul><li>当你打开 emacs 时候会乱码之类的, 是因为缺少字体</li><li>将 <strong>C:\Windows\Fons</strong> 目录下的字体全部复制到 <strong>\\wsl$\Ubuntu22.04\root\.local\share\fonts</strong></li></ul><h2 id=美化-emacs>美化 Emacs<a hidden class=anchor aria-hidden=true href=#美化-emacs>#</a></h2><ul><li><p>emasc 启动屏幕尺寸太小, 修改数字</p><p>(set-face-attribute &lsquo;default nil :height 150)</p></li><li><p>建议 emasc 安装以下包</p><ol><li>cnfonts 用来调整 emacs 字体大小</li><li>all-the-icons 为 emacs 提供 图标支持</li><li>emojfyi 为 emacs 提供 表情符号支持</li></ol></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://isouthrain.github.io/zh-cn/tags/emacs/>Emacs</a></li></ul><nav class=paginav><a class=prev href=https://isouthrain.github.io/zh-cn/post/2022-07-06-ubuntubuildemacs/><span class=title>«</span><br><span>Build Emacs in Ubunt</span>
</a><a class=next href=https://isouthrain.github.io/zh-cn/post/2022-06-25-gpg/><span class=title>»</span><br><span>GnuPG(GPG) 加密</span></a></nav></footer><script src=https://utteranc.es/client.js repo=ISouthRain/ISouthRain.github.io issue-term=title label=Comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2025 <a href=https://isouthrain.github.io/zh-cn/>ISouthRain Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><div class=footer><span class=poem_sentence></span>
<span class=poem_info></span></div><script src=https://sdk.jinrishici.com/v2/browser/jinrishici.js></script><script type=text/javascript>jinrishici.load(function(e){var t=document.querySelector(".poem_sentence"),n=document.querySelector(".poem_info");t.innerHTML=e.data.content,n.innerHTML="---- "+e.data.origin.author})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>